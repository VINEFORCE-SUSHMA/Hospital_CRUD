<div [@routerTransition]>
    <section class="content-header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-6"><h1>{{ 'PatientAdmissions' | localize }}</h1></div>
                <div class="col-6 text-right">
                    <a href="javascript:;" class="btn bg-blue" (click)="createAdmission()">
                        <i class="fa fa-plus-square"></i> {{ 'Create' | localize }}
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section class="content px-2 pb-3">
        <div class="container-fluid">
            <div class="card table-wrapper">
                <div class="card-header">
                    <div class="row">
                        <div class="col-md-6">&emsp;</div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <input
                                    type="text"
                                    class="form-control"
                                    [(ngModel)]="keyword"
                                    placeholder="{{ 'SearchWithThreeDot' | localize }}"
                                    (keyup.enter)="list()" />
                                <div class="input-group-append">
                                    <button class="btn bg-blue" (click)="list()"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admissions Table -->
                <div class="card-body table-responsive table-striped table-bordered">
                    <p-table #dataTable [value]="primengTableHelper.records" [paginator]="false" [lazy]="true"
                             (onLazyLoad)="list($event)" [rows]="primengTableHelper.defaultRecordsCountPerPage"
                             [tableStyle]="{'min-width': '50rem'}">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>{{ 'Patient' | localize }}</th>
                                <th>{{ 'Doctor' | localize }}</th>
                                <th>{{ 'Bed' | localize }}</th>
                                <th>{{ 'AdmissionDate' | localize }}</th>
                                <th>{{ 'DischargeDate' | localize }}</th>
                                <th>{{ 'Actions' | localize }}</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-record>
                            <tr>
                                <td>{{ record.patientName }}</td>
                                <td>{{ record.doctorName }}</td>
                                <td>{{ record.bedNumber }}</td>
                                <td>{{ record.admissionDate | date:'short' }}</td>
                                <td>{{ record.dischargeDate | date:'short' }}</td>
                                <td>
                                    <button class="btn btn-sm bg-secondary" (click)="editAdmission(record)">
                                        <i class="fas fa-pencil-alt"></i> {{ 'Edit' | localize }}
                                    </button>
                                    <button class="btn btn-sm bg-danger mx-2" (click)="deleteAdmission(record)">
                                        <i class="fas fa-trash"></i> {{ 'Delete' | localize }}
                                    </button>
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                    <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                        {{ 'NoData' | localize }}
                    </div>
                </div>

                Paginator
                <div class="card-footer table-card-footer bg-white border-top">
                    <p-paginator #paginator
                                 [rows]="primengTableHelper.defaultRecordsCountPerPage"
                                 [totalRecords]="primengTableHelper.totalRecordsCount"
                                 [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
                                 (onPageChange)="list($event)">
                    </p-paginator>
                </div>
            </div>
        </div>
    </section>
</div>  
